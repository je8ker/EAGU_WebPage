import{b1 as me,q,v as ve,k as G,r as C,Q as $,l as t,a9 as z,b2 as ge,D as le,N as b,K as he,aB as Ve,e as be,af as p,f as xe,$ as ye,m as P,F as N,a0 as J,a1 as we,b3 as Ce,S as U,b4 as ke,aI as Fe,aC as Se,ax as Pe,W as Ie,_ as Re,a$ as pe,d as Y,b0 as f,o as Z,aX as Be,V as D,h as O,b5 as He,b6 as Te,a2 as Me,i as Ae,b as _}from"./index-Ccd_KKfJ.js";import{l as Ee,o as Ne,f as j,p as Ue,q as De,r as Oe,t as ee,v as ze,w as qe,x as Ge,m as $e,e as te,k as _e,j as ae}from"./VSheet-BKGFWEkT.js";import{a as je,V as We}from"./VCard-iwokHr3h.js";const Xe=me("v-spacer","div","VSpacer"),Ke=q({...ve(),...Ee()},"VForm"),Le=G()({name:"VForm",props:Ke(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,o){let{slots:i,emit:g}=o;const r=Ne(e),a=C();function n(m){m.preventDefault(),r.reset()}function x(m){const v=m,d=r.validate();v.then=d.then.bind(d),v.catch=d.catch.bind(d),v.finally=d.finally.bind(d),g("submit",v),v.defaultPrevented||d.then(I=>{var u;let{valid:k}=I;k&&((u=a.value)==null||u.submit())}),v.preventDefault()}return $(()=>{var m;return t("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:n,onSubmit:x},[(m=i.default)==null?void 0:m.call(i,r)])}),j(r,a)}}),Qe=q({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...z(Ue(),["centerAffix"]),...z(De(),["centerAffix"])},"VTextarea"),Je=G()({name:"VTextarea",directives:{Intersect:ge},inheritAttrs:!1,props:Qe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:i,emit:g,slots:r}=o;const a=le(e,"modelValue"),{isFocused:n,focus:x,blur:m}=Oe(e),v=b(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),d=b(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function I(l,c){var s,V;!e.autofocus||!l||(V=(s=c[0].target)==null?void 0:s.focus)==null||V.call(s)}const k=C(),u=C(),R=he(""),h=C(),B=b(()=>e.persistentPlaceholder||n.value||e.active);function M(){var l;h.value!==document.activeElement&&((l=h.value)==null||l.focus()),n.value||x()}function ne(l){M(),g("click:control",l)}function oe(l){g("mousedown:control",l)}function re(l){l.stopPropagation(),M(),U(()=>{a.value="",ke(e["onClick:clear"],l)})}function ie(l){var s;const c=l.target;if(a.value=c.value,(s=e.modelModifiers)!=null&&s.trim){const V=[c.selectionStart,c.selectionEnd];U(()=>{c.selectionStart=V[0],c.selectionEnd=V[1]})}}const F=C(),W=C(+e.rows),se=b(()=>["plain","underlined"].includes(e.variant));Ve(()=>{e.autoGrow||(W.value=+e.rows)});function S(){e.autoGrow&&U(()=>{if(!F.value||!u.value)return;const l=getComputedStyle(F.value),c=getComputedStyle(u.value.$el),s=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),V=F.value.scrollHeight,H=parseFloat(l.lineHeight),A=Math.max(parseFloat(e.rows)*H+s,parseFloat(c.getPropertyValue("--v-input-control-height"))),E=parseFloat(e.maxRows)*H+s||1/0,w=Se(V??0,A,E);W.value=Math.floor((w-s)/H),R.value=Fe(w)})}be(S),p(a,S),p(()=>e.rows,S),p(()=>e.maxRows,S),p(()=>e.density,S);let y;return p(F,l=>{l?(y=new ResizeObserver(S),y.observe(F.value)):y==null||y.disconnect()}),xe(()=>{y==null||y.disconnect()}),$(()=>{const l=!!(r.counter||e.counter||e.counterValue),c=!!(l||r.details),[s,V]=ye(i),{modelValue:H,...A}=ee.filterProps(e),E=ze(e);return t(ee,P({ref:k,modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":se.value},e.class],style:e.style},s,A,{centerAffix:!1,focused:n.value}),{...r,default:w=>{let{id:T,isDisabled:X,isDirty:K,isReadonly:ue,isValid:de}=w;return t(qe,P({ref:u,style:{"--v-textarea-control-height":R.value},onClick:ne,onMousedown:oe,"onClick:clear":re,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},E,{id:T.value,active:B.value||K.value,centerAffix:!1,dirty:K.value||e.dirty,disabled:X.value,focused:n.value,error:de.value===!1}),{...r,default:ce=>{let{props:{class:L,...Q}}=ce;return t(N,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),J(t("textarea",P({ref:h,class:L,value:a.value,onInput:ie,autofocus:e.autofocus,readonly:ue.value,disabled:X.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:M,onBlur:m},Q,V),null),[[we("intersect"),{handler:I},null,{once:!0}]]),e.autoGrow&&J(t("textarea",{class:[L,"v-textarea__sizer"],id:`${Q.id}-sizer`,"onUpdate:modelValue":fe=>a.value=fe,ref:F,readonly:!0,"aria-hidden":"true"},null),[[Ce,a.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:c?w=>{var T;return t(N,null,[(T=r.details)==null?void 0:T.call(r,w),l&&t(N,null,[t("span",null,null),t(Ge,{active:e.persistentCounter||n.value,value:v.value,max:d.value,disabled:e.disabled},r.counter)])])}:void 0})}),j({},k,u,h)}}),Ye=q({id:String,text:String,...z($e({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Ze=G()({name:"VTooltip",props:Ye(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:i}=o;const g=le(e,"modelValue"),{scopeId:r}=Pe(),a=Ie(),n=b(()=>e.id||`v-tooltip-${a}`),x=C(),m=b(()=>e.location.split(" ").length>1?e.location:e.location+" center"),v=b(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=b(()=>e.transition?e.transition:g.value?"scale-transition":"fade-transition"),I=b(()=>P({"aria-describedby":n.value},e.activatorProps));return $(()=>{const k=te.filterProps(e);return t(te,P({ref:x,class:["v-tooltip",e.class],style:e.style,id:n.value},k,{modelValue:g.value,"onUpdate:modelValue":u=>g.value=u,transition:d.value,absolute:!0,location:m.value,origin:v.value,persistent:!0,role:"tooltip",activatorProps:I.value,_disableGlobalStack:!0},r),{activator:i.activator,default:function(){var B;for(var u=arguments.length,R=new Array(u),h=0;h<u;h++)R[h]=arguments[h];return((B=i.default)==null?void 0:B.call(i,...R))??e.text}})}),j({},x)}}),et={data:()=>({form:!1,title:null,name:null,content:null,loading:!1,formHasErrors:!1}),created(){this.LoadDB(),console.log("DB")},watch:{title(){this.errorMessages=""}},methods:{contentCheck(){return this.errorMessages=this.content&&!this.title?"Hey! I'm required":"",!0},resetForm(){this.errorMessages=[],this.formHasErrors=!1,Object.keys(this.form).forEach(e=>{this.$refs[e].reset()})},submit(){this.formHasErrors=!1,Object.keys(this.form).forEach(e=>{this.form[e]||(this.formHasErrors=!0),this.$refs[e].validate(!0)})},onSubmit(){this.form&&(this.loading=!0,setTimeout(()=>this.loading=!1,2e3))},required(e){return!!e||"내용을 입력해주세요"},movepage(e){pe.push(e)}}},tt=_("div",{class:"MainTitle"}," 글쓰기 ",-1),at=_("br",null,null,-1),lt=_("span",null,"Refresh form",-1);function nt(e,o,i,g,r,a){return Z(),Y(_e,{height:"100%",class:"bg-black",rounded:""},{default:f(()=>[tt,t(We,{class:"mx-auto px-6 py-8","max-width":"90%","max-height":"80%"},{default:f(()=>[t(Le,{modelValue:e.form,"onUpdate:modelValue":o[4]||(o[4]=n=>e.form=n),onSubmit:Be(a.onSubmit,["prevent"])},{default:f(()=>[t(ae,{modelValue:e.title,"onUpdate:modelValue":o[0]||(o[0]=n=>e.title=n),readonly:e.loading,rules:[a.required],class:"mb-2",label:"제목",clearable:""},null,8,["modelValue","readonly","rules"]),t(ae,{modelValue:e.name,"onUpdate:modelValue":o[1]||(o[1]=n=>e.name=n),readonly:e.loading,rules:[a.required],class:"mb-2",label:"이름",clearable:""},null,8,["modelValue","readonly","rules"]),t(Je,{rows:"10",modelValue:e.content,"onUpdate:modelValue":o[2]||(o[2]=n=>e.content=n),readonly:e.loading,rules:[a.required],label:"내용","no-resize":"",clearable:""},null,8,["modelValue","readonly","rules"]),at,t(je,null,{default:f(()=>[t(D,{onClick:o[3]||(o[3]=n=>a.movepage("/community")),variant:"text"},{default:f(()=>[O(" Cancel ")]),_:1}),t(Xe),t(He,null,{default:f(()=>[e.formHasErrors?(Z(),Y(Ze,{key:0,location:"left"},{activator:f(({on:n,attrs:x})=>[t(D,P({class:"my-0",icon:""},x,Te(n),{onClick:a.resetForm}),{default:f(()=>[t(Me,null,{default:f(()=>[O("mdi-refresh")]),_:1})]),_:2},1040,["onClick"])]),default:f(()=>[lt]),_:1})):Ae("",!0)]),_:1}),t(D,{disabled:!e.form,loading:e.loading,color:"success",type:"submit",variant:"elevated"},{default:f(()=>[O(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})}const st=Re(et,[["render",nt]]);export{st as default};
